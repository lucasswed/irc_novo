Pedro: eu penso que talvez seja sem muitas certezas que e possivel que se receba o comando na funcao runCmd da class server.
Ricardo: Muito bem dito caro colega, tambem nao tenho a certeza mas deve ser isso!